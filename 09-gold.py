print((lambda a,b:lambda x:a(a,b,x))(lambda a,b,x,i=0,v=0:x[i]=="}"and(i+1,v)or x[i]=="{"and a(a,b,x,i+a(a,b,x[i+1:],0,0)[0]+1,v+a(a,b,x[i+1:],0,0)[1])or x[i]=="!"and a(a,b,x,i+2,v)or x[i]=="<"and a(a,b,x,i+b(b,x[i+1:])[0]+1,v+b(b,x[i+1:])[1])or a(a,b,x,i+1,v),lambda b,x,i=0,s=0:x[i]==">"and(i+1,s)or x[i]=="!"and b(b,x,i+2,s)or b(b,x,i+1,s+1))(__import__("sys").stdin.readline()[1:])[1])
